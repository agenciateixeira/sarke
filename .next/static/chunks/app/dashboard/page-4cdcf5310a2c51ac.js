(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[105],{735:(e,s,t)=>{"use strict";t.d(s,{AuthProvider:()=>o,A:()=>u});var a=t(5155),r=t(2115),d=t(5497);let i="https://eaphfgwyiaqelppopcrt.supabase.co",l="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImVhcGhmZ3d5aWFxZWxwcG9wY3J0Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjkzNjE3NTgsImV4cCI6MjA4NDkzNzc1OH0.J7iQGpIhkquMjSSVHmsNtSUGFqA310-irjvkT2vSgks";if(!i||!l)throw Error("Missing Supabase environment variables");let n=(0,d.UU)(i,l),c=(0,r.createContext)(void 0),o=e=>{let{children:s}=e,[t,d]=(0,r.useState)(null),[i,l]=(0,r.useState)(null),[o,u]=(0,r.useState)(!0);(0,r.useEffect)(()=>{n.auth.getSession().then(e=>{var s;let{data:{session:t}}=e;l(null!=(s=null==t?void 0:t.user)?s:null),(null==t?void 0:t.user)?m(t.user.id):u(!1)});let{data:{subscription:e}}=n.auth.onAuthStateChange((e,s)=>{var t;l(null!=(t=null==s?void 0:s.user)?t:null),(null==s?void 0:s.user)?m(s.user.id):(d(null),u(!1))});return()=>e.unsubscribe()},[]);let m=async e=>{try{let{data:s,error:t}=await n.from("profiles").select("*").eq("id",e).single();if(t)throw t;d(s)}catch(e){console.error("Error loading user profile:",e)}finally{u(!1)}},x=async(e,s)=>{try{let{error:t}=await n.auth.signInWithPassword({email:e,password:s});if(t)throw t;return{}}catch(e){return{error:e.message}}},h=async(e,s,t,a)=>{try{let{data:r,error:d}=await n.auth.signUp({email:e,password:s});if(d)throw d;if(!r.user)throw Error("Failed to create user");let{error:i}=await n.from("profiles").insert({id:r.user.id,email:e,name:t,role:a,created_at:new Date().toISOString(),updated_at:new Date().toISOString()});if(i)throw i;return{}}catch(e){return{error:e.message}}},p=async()=>{await n.auth.signOut(),d(null),l(null)},f=async e=>{if(t)try{let{error:s}=await n.from("profiles").update({...e,updated_at:new Date().toISOString()}).eq("id",t.id);if(s)throw s;d({...t,...e})}catch(e){console.error("Error updating profile:",e)}};return(0,a.jsx)(c.Provider,{value:{user:t,supabaseUser:i,loading:o,signIn:x,signUp:h,signOut:p,updateProfile:f},children:s})},u=()=>{let e=(0,r.useContext)(c);if(void 0===e)throw Error("useAuth must be used within an AuthProvider");return e}},1169:(e,s,t)=>{"use strict";t.d(s,{A:()=>a});let a=(0,t(1847).A)("users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]])},1194:(e,s,t)=>{"use strict";t.d(s,{A:()=>a});let a=(0,t(1847).A)("square-check-big",[["path",{d:"M21 10.656V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h12.344",key:"2acyp4"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]])},1761:(e,s,t)=>{"use strict";t.d(s,{A:()=>a});let a=(0,t(1847).A)("dollar-sign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]])},1871:(e,s,t)=>{"use strict";t.d(s,{A:()=>a});let a=(0,t(1847).A)("building",[["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M9 22v-3a1 1 0 0 1 1-1h4a1 1 0 0 1 1 1v3",key:"cabbwy"}],["rect",{x:"4",y:"2",width:"16",height:"20",rx:"2",key:"1uxh74"}]])},3209:(e,s,t)=>{"use strict";t.d(s,{BT:()=>c,Wu:()=>o,ZB:()=>n,Zp:()=>i,aR:()=>l,wL:()=>u});var a=t(5155),r=t(2115),d=t(5016);let i=r.forwardRef((e,s)=>{let{className:t,...r}=e;return(0,a.jsx)("div",{ref:s,className:(0,d.cn)("rounded-xl border bg-card text-card-foreground shadow",t),...r})});i.displayName="Card";let l=r.forwardRef((e,s)=>{let{className:t,...r}=e;return(0,a.jsx)("div",{ref:s,className:(0,d.cn)("flex flex-col space-y-1.5 p-6",t),...r})});l.displayName="CardHeader";let n=r.forwardRef((e,s)=>{let{className:t,...r}=e;return(0,a.jsx)("h3",{ref:s,className:(0,d.cn)("font-semibold leading-none tracking-tight",t),...r})});n.displayName="CardTitle";let c=r.forwardRef((e,s)=>{let{className:t,...r}=e;return(0,a.jsx)("p",{ref:s,className:(0,d.cn)("text-sm text-muted-foreground",t),...r})});c.displayName="CardDescription";let o=r.forwardRef((e,s)=>{let{className:t,...r}=e;return(0,a.jsx)("div",{ref:s,className:(0,d.cn)("p-6 pt-0",t),...r})});o.displayName="CardContent";let u=r.forwardRef((e,s)=>{let{className:t,...r}=e;return(0,a.jsx)("div",{ref:s,className:(0,d.cn)("flex items-center p-6 pt-0",t),...r})});u.displayName="CardFooter"},5016:(e,s,t)=>{"use strict";t.d(s,{cn:()=>d});var a=t(2821),r=t(5889);function d(){for(var e=arguments.length,s=Array(e),t=0;t<e;t++)s[t]=arguments[t];return(0,r.QP)((0,a.$)(s))}},8701:(e,s,t)=>{Promise.resolve().then(t.bind(t,9485))},9485:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>o});var a=t(5155),r=t(735),d=t(3209),i=t(1194),l=t(1871),n=t(1169),c=t(1761);function o(){let{user:e}=(0,r.A)(),s=[{title:"Tarefas Ativas",value:"12",icon:(0,a.jsx)(i.A,{className:"h-4 w-4 text-muted-foreground"}),description:"+2 desde ontem"},{title:"Projetos",value:"5",icon:(0,a.jsx)(l.A,{className:"h-4 w-4 text-muted-foreground"}),description:"3 em andamento"},{title:"Equipe",value:"28",icon:(0,a.jsx)(n.A,{className:"h-4 w-4 text-muted-foreground"}),description:"24 ativos"},{title:"Receita Mensal",value:"R$ 45.2k",icon:(0,a.jsx)(c.A,{className:"h-4 w-4 text-muted-foreground"}),description:"+12% vs m\xeas anterior"}];return(0,a.jsxs)("div",{className:"flex flex-col gap-6 p-6",children:[(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)("h1",{className:"text-3xl font-bold tracking-tight",children:"Dashboard"}),(0,a.jsxs)("p",{className:"text-muted-foreground",children:["Bem-vindo, ",null==e?void 0:e.name,"! Aqui est\xe1 um resumo das suas atividades."]})]}),(0,a.jsx)("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-4",children:s.map(e=>(0,a.jsxs)(d.Zp,{children:[(0,a.jsxs)(d.aR,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,a.jsx)(d.ZB,{className:"text-sm font-medium",children:e.title}),e.icon]}),(0,a.jsxs)(d.Wu,{children:[(0,a.jsx)("div",{className:"text-2xl font-bold",children:e.value}),(0,a.jsx)("p",{className:"text-xs text-muted-foreground",children:e.description})]})]},e.title))}),(0,a.jsxs)("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-7",children:[(0,a.jsxs)(d.Zp,{className:"col-span-4",children:[(0,a.jsx)(d.aR,{children:(0,a.jsx)(d.ZB,{children:"Atividades Recentes"})}),(0,a.jsx)(d.Wu,{children:(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{className:"flex items-center gap-4",children:[(0,a.jsx)("div",{className:"h-2 w-2 rounded-full bg-primary"}),(0,a.jsxs)("div",{className:"flex-1 space-y-1",children:[(0,a.jsx)("p",{className:"text-sm font-medium",children:"Nova tarefa criada"}),(0,a.jsx)("p",{className:"text-xs text-muted-foreground",children:"H\xe1 2 horas"})]})]}),(0,a.jsxs)("div",{className:"flex items-center gap-4",children:[(0,a.jsx)("div",{className:"h-2 w-2 rounded-full bg-green-500"}),(0,a.jsxs)("div",{className:"flex-1 space-y-1",children:[(0,a.jsx)("p",{className:"text-sm font-medium",children:"Projeto aprovado"}),(0,a.jsx)("p",{className:"text-xs text-muted-foreground",children:"H\xe1 5 horas"})]})]}),(0,a.jsxs)("div",{className:"flex items-center gap-4",children:[(0,a.jsx)("div",{className:"h-2 w-2 rounded-full bg-yellow-500"}),(0,a.jsxs)("div",{className:"flex-1 space-y-1",children:[(0,a.jsx)("p",{className:"text-sm font-medium",children:"Reuni\xe3o agendada"}),(0,a.jsx)("p",{className:"text-xs text-muted-foreground",children:"H\xe1 1 dia"})]})]})]})})]}),(0,a.jsxs)(d.Zp,{className:"col-span-3",children:[(0,a.jsx)(d.aR,{children:(0,a.jsx)(d.ZB,{children:"Tarefas Pendentes"})}),(0,a.jsx)(d.Wu,{children:(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{className:"flex items-start gap-3",children:[(0,a.jsx)("input",{type:"checkbox",className:"mt-1"}),(0,a.jsxs)("div",{className:"flex-1 space-y-1",children:[(0,a.jsx)("p",{className:"text-sm font-medium",children:"Revisar documentos do projeto X"}),(0,a.jsx)("p",{className:"text-xs text-muted-foreground",children:"Vence em 2 dias"})]})]}),(0,a.jsxs)("div",{className:"flex items-start gap-3",children:[(0,a.jsx)("input",{type:"checkbox",className:"mt-1"}),(0,a.jsxs)("div",{className:"flex-1 space-y-1",children:[(0,a.jsx)("p",{className:"text-sm font-medium",children:"Reuni\xe3o com cliente Y"}),(0,a.jsx)("p",{className:"text-xs text-muted-foreground",children:"Amanh\xe3 \xe0s 14h"})]})]}),(0,a.jsxs)("div",{className:"flex items-start gap-3",children:[(0,a.jsx)("input",{type:"checkbox",className:"mt-1"}),(0,a.jsxs)("div",{className:"flex-1 space-y-1",children:[(0,a.jsx)("p",{className:"text-sm font-medium",children:"Atualizar planilha de custos"}),(0,a.jsx)("p",{className:"text-xs text-muted-foreground",children:"Vence hoje"})]})]})]})})]})]}),(null==e?void 0:e.role)==="admin"&&(0,a.jsxs)(d.Zp,{children:[(0,a.jsx)(d.aR,{children:(0,a.jsx)(d.ZB,{children:"A\xe7\xf5es R\xe1pidas - Administrador"})}),(0,a.jsx)(d.Wu,{children:(0,a.jsxs)("div",{className:"flex flex-wrap gap-3",children:[(0,a.jsx)("button",{className:"px-4 py-2 bg-primary text-primary-foreground rounded-md text-sm font-medium hover:bg-primary/90",children:"Adicionar Colaborador"}),(0,a.jsx)("button",{className:"px-4 py-2 bg-secondary text-secondary-foreground rounded-md text-sm font-medium hover:bg-secondary/90",children:"Gerar Relat\xf3rio"}),(0,a.jsx)("button",{className:"px-4 py-2 bg-secondary text-secondary-foreground rounded-md text-sm font-medium hover:bg-secondary/90",children:"Configurar Permiss\xf5es"})]})})]})]})}}},e=>{e.O(0,[779,497,441,255,358],()=>e(e.s=8701)),_N_E=e.O()}]);