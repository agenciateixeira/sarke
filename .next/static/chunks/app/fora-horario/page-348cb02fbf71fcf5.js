(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[174],{63:(e,r,t)=>{"use strict";var s=t(7260);t.o(s,"usePathname")&&t.d(r,{usePathname:function(){return s.usePathname}}),t.o(s,"useRouter")&&t.d(r,{useRouter:function(){return s.useRouter}})},735:(e,r,t)=>{"use strict";t.d(r,{AuthProvider:()=>d,A:()=>c});var s=t(5155),a=t(2115),n=t(5497);let i="https://eaphfgwyiaqelppopcrt.supabase.co",o="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImVhcGhmZ3d5aWFxZWxwcG9wY3J0Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjkzNjE3NTgsImV4cCI6MjA4NDkzNzc1OH0.J7iQGpIhkquMjSSVHmsNtSUGFqA310-irjvkT2vSgks";if(!i||!o)throw Error("Missing Supabase environment variables");let l=(0,n.UU)(i,o),u=(0,a.createContext)(void 0),d=e=>{let{children:r}=e,[t,n]=(0,a.useState)(null),[i,o]=(0,a.useState)(null),[d,c]=(0,a.useState)(!0);(0,a.useEffect)(()=>{l.auth.getSession().then(e=>{var r;let{data:{session:t}}=e;o(null!=(r=null==t?void 0:t.user)?r:null),(null==t?void 0:t.user)?f(t.user.id):c(!1)});let{data:{subscription:e}}=l.auth.onAuthStateChange((e,r)=>{var t;o(null!=(t=null==r?void 0:r.user)?t:null),(null==r?void 0:r.user)?f(r.user.id):(n(null),c(!1))});return()=>e.unsubscribe()},[]);let f=async e=>{try{let{data:r,error:t}=await l.from("profiles").select("*").eq("id",e).single();if(t)throw t;n(r)}catch(e){console.error("Error loading user profile:",e)}finally{c(!1)}},m=async(e,r)=>{try{let{error:t}=await l.auth.signInWithPassword({email:e,password:r});if(t)throw t;return{}}catch(e){return{error:e.message}}},h=async(e,r,t,s)=>{try{let{data:a,error:n}=await l.auth.signUp({email:e,password:r});if(n)throw n;if(!a.user)throw Error("Failed to create user");let{error:i}=await l.from("profiles").insert({id:a.user.id,email:e,name:t,role:s,created_at:new Date().toISOString(),updated_at:new Date().toISOString()});if(i)throw i;return{}}catch(e){return{error:e.message}}},p=async()=>{await l.auth.signOut(),n(null),o(null)},v=async e=>{if(t)try{let{error:r}=await l.from("profiles").update({...e,updated_at:new Date().toISOString()}).eq("id",t.id);if(r)throw r;n({...t,...e})}catch(e){console.error("Error updating profile:",e)}};return(0,s.jsx)(u.Provider,{value:{user:t,supabaseUser:i,loading:d,signIn:m,signUp:h,signOut:p,updateProfile:v},children:r})},c=()=>{let e=(0,a.useContext)(u);if(void 0===e)throw Error("useAuth must be used within an AuthProvider");return e}},3101:(e,r,t)=>{"use strict";t.d(r,{F:()=>i});var s=t(2821);let a=e=>"boolean"==typeof e?`${e}`:0===e?"0":e,n=s.$,i=(e,r)=>t=>{var s;if((null==r?void 0:r.variants)==null)return n(e,null==t?void 0:t.class,null==t?void 0:t.className);let{variants:i,defaultVariants:o}=r,l=Object.keys(i).map(e=>{let r=null==t?void 0:t[e],s=null==o?void 0:o[e];if(null===r)return null;let n=a(r)||a(s);return i[e][n]}),u=t&&Object.entries(t).reduce((e,r)=>{let[t,s]=r;return void 0===s||(e[t]=s),e},{});return n(e,l,null==r||null==(s=r.compoundVariants)?void 0:s.reduce((e,r)=>{let{class:t,className:s,...a}=r;return Object.entries(a).every(e=>{let[r,t]=e;return Array.isArray(t)?t.includes({...o,...u}[r]):({...o,...u})[r]===t})?[...e,t,s]:e},[]),null==t?void 0:t.class,null==t?void 0:t.className)}},3209:(e,r,t)=>{"use strict";t.d(r,{BT:()=>u,Wu:()=>d,ZB:()=>l,Zp:()=>i,aR:()=>o,wL:()=>c});var s=t(5155),a=t(2115),n=t(5016);let i=a.forwardRef((e,r)=>{let{className:t,...a}=e;return(0,s.jsx)("div",{ref:r,className:(0,n.cn)("rounded-xl border bg-card text-card-foreground shadow",t),...a})});i.displayName="Card";let o=a.forwardRef((e,r)=>{let{className:t,...a}=e;return(0,s.jsx)("div",{ref:r,className:(0,n.cn)("flex flex-col space-y-1.5 p-6",t),...a})});o.displayName="CardHeader";let l=a.forwardRef((e,r)=>{let{className:t,...a}=e;return(0,s.jsx)("h3",{ref:r,className:(0,n.cn)("font-semibold leading-none tracking-tight",t),...a})});l.displayName="CardTitle";let u=a.forwardRef((e,r)=>{let{className:t,...a}=e;return(0,s.jsx)("p",{ref:r,className:(0,n.cn)("text-sm text-muted-foreground",t),...a})});u.displayName="CardDescription";let d=a.forwardRef((e,r)=>{let{className:t,...a}=e;return(0,s.jsx)("div",{ref:r,className:(0,n.cn)("p-6 pt-0",t),...a})});d.displayName="CardContent";let c=a.forwardRef((e,r)=>{let{className:t,...a}=e;return(0,s.jsx)("div",{ref:r,className:(0,n.cn)("flex items-center p-6 pt-0",t),...a})});c.displayName="CardFooter"},4926:(e,r,t)=>{"use strict";t.d(r,{A:()=>s});let s=(0,t(1847).A)("log-out",[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]])},5016:(e,r,t)=>{"use strict";t.d(r,{cn:()=>n});var s=t(2821),a=t(5889);function n(){for(var e=arguments.length,r=Array(e),t=0;t<e;t++)r[t]=arguments[t];return(0,a.QP)((0,s.$)(r))}},6983:(e,r,t)=>{"use strict";t.d(r,{A:()=>s});let s=(0,t(1847).A)("clock",[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]])},7003:(e,r,t)=>{"use strict";t.d(r,{$:()=>l});var s=t(5155),a=t(2115),n=t(3101),i=t(5016);let o=(0,n.F)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),l=a.forwardRef((e,r)=>{let{className:t,variant:a,size:n,...l}=e;return(0,s.jsx)("button",{className:(0,i.cn)(o({variant:a,size:n,className:t})),ref:r,...l})});l.displayName="Button"},8005:(e,r,t)=>{Promise.resolve().then(t.bind(t,9894))},9894:(e,r,t)=>{"use strict";t.r(r),t.d(r,{default:()=>d});var s=t(5155),a=t(735),n=t(7003),i=t(3209),o=t(6983),l=t(4926),u=t(63);function d(){let{user:e,signOut:r}=(0,a.A)(),t=(0,u.useRouter)(),d=async()=>{await r(),t.push("/login")};return(0,s.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-background p-4",children:(0,s.jsxs)(i.Zp,{className:"w-full max-w-md",children:[(0,s.jsxs)(i.aR,{className:"space-y-1",children:[(0,s.jsx)("div",{className:"flex justify-center mb-4",children:(0,s.jsx)("div",{className:"rounded-full bg-primary/10 p-3",children:(0,s.jsx)(o.A,{className:"h-8 w-8 text-primary"})})}),(0,s.jsx)(i.ZB,{className:"text-2xl font-bold text-center",children:"Fora do Hor\xe1rio"}),(0,s.jsx)(i.BT,{className:"text-center",children:"Voc\xea est\xe1 tentando acessar o sistema fora do seu hor\xe1rio de trabalho permitido"})]}),(0,s.jsxs)(i.Wu,{className:"space-y-4",children:[e&&(0,s.jsxs)("div",{className:"space-y-2 text-sm text-muted-foreground",children:[(0,s.jsxs)("p",{children:[(0,s.jsx)("strong",{children:"Usu\xe1rio:"})," ",e.name]}),e.horario_inicio&&e.horario_fim&&(0,s.jsxs)("p",{children:[(0,s.jsx)("strong",{children:"Hor\xe1rio permitido:"})," ",e.horario_inicio," \xe0s ",e.horario_fim]})]}),(0,s.jsx)("p",{className:"text-sm text-muted-foreground text-center",children:"Se voc\xea precisa acessar o sistema fora do hor\xe1rio, entre em contato com o administrador."})]}),(0,s.jsx)(i.wL,{children:(0,s.jsxs)(n.$,{onClick:d,className:"w-full",variant:"outline",children:[(0,s.jsx)(l.A,{className:"mr-2 h-4 w-4"}),"Sair"]})})]})})}}},e=>{e.O(0,[779,497,441,255,358],()=>e(e.s=8005)),_N_E=e.O()}]);